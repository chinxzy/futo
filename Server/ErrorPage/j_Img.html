<!DOCTYPE html>
<html>
<head>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap-grid.min.css">
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap-reboot.min.css">
    <link rel="stylesheet" type="text/css" href="style.css" />
    <link rel="stylesheet" type="text/css" href="stylehover.css/">
    <script src="https://kit.fontawesome.com/024223af30.js"></script>
    <script src="jquery-3.4.1.min.js"></script>
    <link rel="stylesheet" href="PagingStyle.css" />
    <script src="paging.js"></script>
    <script src="submit.js"></script>
    <style>
        .row{
            margin-top:10px;
        }
        .myImg{
             border-radius: 100%;
             height:130px;
             display:none;
            -moz-border-radius: 100%;
            -webkit-border-radius: 100%;
        }
        .navbutton
        {
            display:block;
        }
       
    </style>
    <script type="text/javascript">
        $(function() {
            $("#myList").JPaging({
            pageSize: 5
          });
        });
    </script>
</head>

<body onload="call('Load')">
    <nav class="navbar navbar-expand-md  bg-dark navbar-dark">
        <img class="navbar-brand img-fluid" src="me.png">
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="collapsibleNavbar">
            <ul class="navbar-nav">
                <li class="item nav-item">
                    <a class="nav-link" href="#">Link</a>
                </li>
                <li class="item nav-item">
                    <a class="nav-link" href="#">Link</a>
                </li>
                <li class="item nav-item">
                    <a class="nav-link" href="#">Link</a>
                </li>
            </ul>
        </div>
    </nav>
    
    <div>
        <a href="index.html" class="btn-group-lg"><i class="fas fa-home">Accommodation</i></a>
        <a href="j.html" class="btn-group-lg"><i class="far fa-handshake">Roommates</i></a>
        <a href="it.html" class="btn-group-lg"><i class="fas fa-bed">IT/half year accomodation</i></a>
    </div>
    
    <div class="container-fluid" id="middle">
        <span class="container-fluid" id="right">
            <h2>lodges around Futo</h2>
            <p>Search for lodges that suit your style and pockets, anywhere and anytime</p>
            <input id="myInput" type="text" placeholder="Search..">
            <br>
            
            <div class="container" id="myList">
                <div class="row  text-left">
                    <div class="col-sm-3">
                        <img class="myImg img-responsive center" src="" style="width:100%" />
                    </div>
                    <div class="col-sm-9 Info">

                    </div>
                </div>

                <div class="row  text-left">
                    <div class="col-sm-3">
                        <img class="myImg img-responsive center" src="" style="width:100%" />
                    </div>
                    <div class="col-sm-9 Info">

                    </div>
                </div>

                <div class="row  text-left">
                    <div class="col-sm-3">
                        <img class="myImg img-responsive center" src="" style="width:100%" />
                    </div>
                    <div class="col-sm-9 Info">

                    </div>
                </div>

                <div class="row  text-left">
                    <div class="col-sm-3">
                        <img class="myImg img-responsive center" src="" style="width:100%" />
                    </div>
                    <div class="col-sm-9 Info">

                    </div>
                </div>

                <div class="row  text-left">
                    <div class="col-sm-3">
                        <img class="myImg img-responsive center" src="" style="width:100%" />
                    </div>
                    <div class="col-sm-9 Info">

                    </div>
                </div>

                <div class="row  text-left">
                    <div class="col-sm-6">
                       <button class="navbutton" onclick="call('Prev')">Previous</button>
                    </div>
                    <div class="col-sm-6 Info">
                        <button class="navbutton" style="float:right" onclick="call('Next')">Next</button>
                    </div>
                </div>
               
            </div>
        </span>

        <div class="container" id="left">
            <div style="color:red;text-align:center;font-size:medium">
                You did not insert an image, or the image you inserted is an invalid format, only format such as JPG, JPEG, PNG & GIF files are supported
            </div>
            <div id="filter">
                <form class="was-validated" id="form" action="../Upload.php" method="post" enctype="multipart/form-data">
                    <div class="form-group">
                        <label for="uname">Name:</label>
                        <input type="text" class="form-control" id="uname" placeholder="Enter name" name="uname" required>
                        <div class="valid-feedback">Valid.</div>
                        <div class="invalid-feedback">Please fill out this field.</div>
                    </div>
                    <div class="form-group">
                        <label for="phone">Phone:</label>
                        <input type="text" class="form-control" id="phone" placeholder="Enter phone" name="phone"required>
                        <div class="valid-feedback">Valid.</div>
                        <div class="invalid-feedback">Please fill out this field.</div>
                    </div>
                    <div class="form-group">
                        <label for="level">Level:</label>
                        <input type="text" class="form-control" id="level" placeholder="Enter Level" name="level" required>
                        <div class="valid-feedback">Valid.</div>
                        <div class="invalid-feedback">Please fill out this field.</div>
                    </div>
                    <div class="form-group">
                        <label for="location">Location:</label>
                        <input type="text" class="form-control" id="location" placeholder="Enter location" name="location" required>
                        <div class="valid-feedback">Valid.</div>
                        <div class="invalid-feedback">Please fill out this field.</div>
                    </div>
                    <div class="form-group">
                        <label for="lodge">Lodge Name:</label>
                        <input type="text" class="form-control" id="lodge" placeholder="Enter lodge" name="lodge" required>
                        <div class="valid-feedback">Valid.</div>
                        <div class="invalid-feedback">Please fill out this field.</div>
                    </div>
                    <div class="form-group">
                        <label for="desc">Description:</label>
                        <textarea class="form-control" rows="5" id="desc" name="description"></textarea>
                    </div>
                    <div class="custom-file mb-3">
                        <input type="file" class="custom-file-input" id="customFile" name="filename">
                        <label class="custom-file-label" for="customFile">Choose file</label>
                    </div>
                    <div class="form-group form-check">
                        <button type="submit" class="class">Upload</button>
                    </div>
                </form>
            </div>
        </div>

        <div class="container-fluid" id=mid>
            <p>
                Need help? Talk to our friendly team of experts CONTACT US
            </p>
        </div>
        <div class="container-fluid" id="footer">

        </div>

        <script>
            disp=0;
            LimNext=0;

            function call(Xparam){
            var obj, dbParam, xmlhttp;

            if(Xparam==='Next')
                disp+=5;
            else if(Xparam==='Prev')
             disp-=5;
          
            //boundary Checks for Next navigator
             if(disp > LimNext) 
            {
             document.getElementsByClassName("navbutton")[1].style.display='none';
            }
            else
             document.getElementsByClassName("navbutton")[1].style.display='block';

             //boundary Checks for Previous navigator
            if(disp<=0) 
            {
             disp=0;
             document.getElementsByClassName("navbutton")[0].style.display='none';
            }
            else
             document.getElementsByClassName("navbutton")[0].style.display='block';

            obj = {
            "Count": disp
            };

            var info = new Array();
            info = Array("Name","Phone","Level","LodgeName","Location","Description","Image");

           
            dbParam = JSON.stringify(obj);
            xmlhttp = new XMLHttpRequest();

            xmlhttp.onreadystatechange = function() {
            if (this.readyState == 4 && this.status == 200)
            {
                myObj = JSON.parse(this.responseText);

                   LimNext = myObj[0]['Size'];
                   if(myObj[0]['Check']===false)
                   {
                     disp=0; 
                   
                   }
               //---Refresh page---
               for(var i=0; i<5; i++)
               {
                 document.getElementsByClassName("Info")[i].innerHTML = '';
                 document.getElementsByClassName("myImg")[i].style.display= "none";
               }
           
              var x =0;
              for (var i = 1; i < myObj[0]['Size'] ;++i)
              {

                  for(var z=0; z<7; ++z)
                  {
                    if(z===6)
                    {
                      document.getElementsByClassName("myImg")[x].src= "../Uploads/" + myObj[i][info[z]];
                      document.getElementsByClassName("myImg")[x].style.display= "block";
                    }
                     else
                      document.getElementsByClassName("Info")[x].innerHTML += '<div>'+info[z]+': '+myObj[i][info[z]]+'</div>';
                  }
                 x++;
              }
            }};

            xmlhttp.open("POST", "../Download.php", true);//passing using post method take note of this..... (dont use Get method.)
            xmlhttp.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
            xmlhttp.send("x=" + dbParam); //passing d database parameter object to the server for processing.

            }
        </script>
</body>
</html>
